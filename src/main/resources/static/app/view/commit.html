<div class="commitPage">

    <div class="header">
        <div class="banner">
            <a href="#/home">Code Review</a>
            / Repository {{ repositoryId }}
        </div>

        <mp-user-info></mp-user-info>
    </div>

    <div class="standardBox">

        <b>{{ info.message }}</b><br/>
        {{ info.hash }} <br/>
        {{ info.commiter }} <br/>
        {{ info.author }} <br/>
        {{ info.time }} <br/>
        {{ files.length }}
    </div>


    <div ng-repeat="file in files">

        <div class="file">

             <div class="fileName">
                 <span ng-show="file.changeType == 'Add'">
                     {{ file.toPath[0] }}
                 </span>
                 <span ng-show="file.changeType == 'Modify'">
                     {{ file.fromPath[0] }}
                 </span>
                 <span ng-show="file.changeType == 'Delete'">
                     {{ file.fromPath[0] }}
                 </span>
                 <span ng-show="file.changeType == 'Rename'">
                     <div class="fromFileName">{{ file.fromPath[0] }}</div>
                     <div class="toFileName">{{ file.toPath[0] }}</div>
                 </span>
                 <span ng-show="file.changeType == 'Copy'">
                     <div class="fromFileName">{{ file.fromPath[0] }}</div>
                     <div class="toFileName">{{ file.file.toPath[0] }}</div>
                 </span>

             </div>



            <div ng-show="file.changeType == 'Add'">
                <table class="fileComparator">
                    <tr>
                        <td class="before">
                            <pre></pre>
                        </td>
                        <td class="after">
                            <pre>{{ file.content.content }}</pre>
                        </td>
                    </tr>
                </table>

            </div>

            <div ng-show="file.changeType == 'Modify'">
                <table class="fileComparator">
                    <tr>
                        <td class="before">
                            <div>
                                <pre ng-repeat="line in file.processed.from" ng-class="line.change"><span>{{line.content}}</span></pre>
                            </div>
                        </td>
                        <td class="after">
                            <div>
                                <pre ng-repeat="line in file.processed.to" ng-class="line.change"><span>{{line.content}}</span></pre>
                             </div>
                        </td>
                    </tr>
                </table>
            </div>

            <div ng-show="file.changeType == 'Delete'">
                <table class="fileComparator">
                    <tr>
                        <td class="before">
                            <pre>{{ file.content.oldContent }}</pre>
                        </td>
                        <td class="after">
                            <pre></pre>
                        </td>
                    </tr>
                </table>
            </div>

            <div ng-show="file.changeType == 'Rename'">
                <table class="fileComparator">
                    <tr>
                        <td class="before">
                            <pre>{{ file.content.fromContent }}</pre>
                        </td>
                        <td class="after">
                            <pre>{{ file.content.toContent }}</pre>
                        </td>
                    </tr>
                </table>
            </div>

            <div ng-show="file.changeType == 'Copy'">
                <table class="fileComparator">
                    <tr>
                        <td class="before">
                            <pre>{{ file.content.fromContent }}</pre>
                        </td>
                        <td class="after">
                            <pre>{{ file.content.toContent }}</pre>
                        </td>
                    </tr>
                </table>
            </div>
        </div>


    </div>

</div>
